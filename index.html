<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="monetag" content="5858d8535d4e13679c3da553135da621">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>FreshList ‚Äî Grocery To‚ÄëDo</title>
  <meta name="description" content="Simple, fast grocery to-do list with localStorage. Add, tick, delete and filter items." />

  <style>
    :root{
      --bg:#f6f7fb;
      --card:#ffffff;
      --accent:#16a34a; /* green */
      --muted:#64748b;
      --danger:#ef4444;
      --glass: rgba(255,255,255,0.7);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box;}
    html,body{height:100%;margin:0;padding:0;}
    body{
      background: linear-gradient(180deg, #f0f6f2 0%, var(--bg) 100%);
      display:flex;align-items:center;justify-content:center;
      padding:12px;
      color:#0f172a;
    }

    .app {
      width:100%;
      max-width:600px;
      background:var(--card);
      border-radius:14px;
      box-shadow: 0 6px 20px rgba(14,20,31,0.08);
      display:flex;
      flex-direction:column;
      height:100%;
      max-height:100%;
    }

    header{
      padding:16px;
      display:flex;
      gap:12px;
      align-items:center;
      border-bottom:1px solid #eef2f6;
      background: linear-gradient(180deg, rgba(22,163,74,0.06), transparent 60%);
    }
    .logo{
      width:40px;height:40px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:700;color:white;background:var(--accent);
      box-shadow:0 4px 10px rgba(22,163,74,0.18);
      flex-shrink:0;
    }
    h1{font-size:16px;margin:0;line-height:1.2}
    p.lead{margin:2px 0 0;color:var(--muted);font-size:12px;line-height:1.3}

    .content{padding:14px;display:flex;flex-direction:column;gap:12px;flex:1;overflow:hidden}

    .add-row{display:flex;gap:8px}
    .input {
      flex:1;padding:12px;border-radius:10px;border:1px solid #e6eef6;background:var(--glass);outline:none;font-size:14px;
    }
    .input:focus{box-shadow:0 0 0 3px rgba(22,163,74,0.08);border-color:#9ee6b8}
    .btn{
      padding:10px 12px;border-radius:10px;border:0;background:var(--accent);color:#fff;font-weight:600;cursor:pointer;font-size:14px;
    }
    .btn:active{transform:scale(0.96)}

    .list{display:flex;flex-direction:column;gap:8px;flex:1;overflow-y:auto;padding-right:4px;scroll-behavior:smooth}
    .item{
      display:flex;align-items:center;gap:10px;padding:12px;border-radius:10px;border:1px solid #f0f3f6;background:#fff;
      transition:background 0.2s ease;
    }
    .item:active{background:#f9fafb}

    .checkbox{width:22px;height:22px;border-radius:6px;border:2px solid #e6eef6;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:14px;}
    .checkbox.checked{background:var(--accent);border-color:var(--accent);color:#fff}
    .text{flex:1;font-size:15px;word-break:break-word}
    .text.done{color:var(--muted);text-decoration:line-through;opacity:0.7}

    .controls{display:flex;gap:4px;align-items:center}
    .icon-btn{border:0;background:transparent;padding:6px;border-radius:8px;cursor:pointer;font-size:16px}
    .icon-btn:active{background:#f3f7f8}
    .small-muted{font-size:12px;color:var(--muted)}

    footer{display:flex;flex-direction:column;gap:8px;padding:10px 14px;border-top:1px solid #eef2f6;background:linear-gradient(180deg,transparent,rgba(255,255,255,0.4));}
    .filters{display:flex;gap:6px;flex-wrap:wrap}
    .chip{padding:6px 10px;border-radius:999px;border:1px solid #eef2f6;background:transparent;cursor:pointer;font-size:13px}
    .chip.active{background:#ecfdf3;border-color:#bbf7d0}

    .hidden{display:none}

    @media (max-width:480px){
      .app{border-radius:0;max-width:100%;height:100vh;}
      header{padding:12px}
      .content{padding:12px}
      .input{font-size:13px;padding:10px}
      .btn{padding:9px 10px;font-size:13px}
      .item{padding:10px}
      .text{font-size:14px}
    }
  </style>
</head>
<body>
  <main class="app" role="application" aria-labelledby="app-title">
    <header>
      <div class="logo" aria-hidden>FL</div>
      <div>
        <h1 id="app-title">FreshList ‚Äî Grocery To‚ÄëDo</h1>
        <p class="lead">Add items, tick when bought, delete or edit ‚Äî saved locally.</p>
      </div>
    </header>

    <section class="content">
      <form id="addForm" class="add-row" autocomplete="off">
        <input id="taskInput" class="input" type="text" placeholder="Add an item ‚Äî e.g. Bananas" aria-label="Add item" />
        <button class="btn" type="submit">Add</button>
      </form>

      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="small-muted" id="countText">0 items</div>
        <div class="controls">
          <button id="clearCompleted" class="icon-btn" title="Clear completed">üßπ</button>
          <button id="clearAll" class="icon-btn" title="Clear all">‚ùå</button>
        </div>
      </div>

      <div class="list" id="taskList" aria-live="polite"></div>
    </section>

    <footer>
      <div class="filters" role="tablist" aria-label="Filter tasks">
        <button class="chip active" data-filter="all">All</button>
        <button class="chip" data-filter="active">Active</button>
        <button class="chip" data-filter="completed">Completed</button>
      </div>
      <div class="small-muted">Tip: double‚Äëtap item to edit</div>
    </footer>
  </main>

  <script>
    (function(){
      const STORAGE_KEY = 'groceryTasks_v1';
      const addForm = document.getElementById('addForm');
      const taskInput = document.getElementById('taskInput');
      const taskList = document.getElementById('taskList');
      const countText = document.getElementById('countText');
      const clearCompletedBtn = document.getElementById('clearCompleted');
      const clearAllBtn = document.getElementById('clearAll');
      const filterChips = document.querySelectorAll('.chip');

      let tasks = [];
      let filter = 'all';

      function uid(){return Date.now().toString(36)+Math.random().toString(36).slice(2,6)}
      function save(){localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));}
      function load(){try{tasks=JSON.parse(localStorage.getItem(STORAGE_KEY))||[]}catch{tasks=[]}}

      function addTask(text){
        if(!text.trim())return;
        tasks.unshift({id:uid(), text:text.trim(), done:false});
        save();render();
      }
      function toggleDone(id){const t=tasks.find(x=>x.id===id);if(!t)return;t.done=!t.done;save();render();}
      function removeTask(id){tasks=tasks.filter(x=>x.id!==id);save();render();}
      function clearCompleted(){tasks=tasks.filter(x=>!x.done);save();render();}
      function clearAll(){if(confirm('Delete ALL items?')){tasks=[];save();render();}}
      function editTask(id,newText){const t=tasks.find(x=>x.id===id);if(!t)return;t.text=newText.trim()||t.text;save();render();}

      function filteredTasks(){if(filter==='all')return tasks;if(filter==='active')return tasks.filter(t=>!t.done);return tasks.filter(t=>t.done)}

      function render(){
        taskList.innerHTML='';
        const list=filteredTasks();
        if(list.length===0){taskList.innerHTML='<div class="small-muted" style="padding:12px">No items ‚Äî add groceries!</div>';}
        else{
          for(const t of list){
            const row=document.createElement('div');row.className='item';row.dataset.id=t.id;
            const cb=document.createElement('button');cb.className='checkbox'+(t.done?' checked':'');cb.innerHTML=t.done?'‚úì':'';cb.addEventListener('click',()=>toggleDone(t.id));
            const txt=document.createElement('div');txt.className='text'+(t.done?' done':'');txt.textContent=t.text;txt.addEventListener('dblclick',()=>startEdit(row,t));
            const controls=document.createElement('div');controls.className='controls';
            const delBtn=document.createElement('button');delBtn.className='icon-btn';delBtn.textContent='üóë';delBtn.addEventListener('click',()=>{if(confirm('Delete this item?'))removeTask(t.id)});
            controls.append(delBtn);
            row.append(cb,txt,controls);
            taskList.appendChild(row);
          }
        }
        countText.textContent=tasks.filter(x=>!x.done).length+" / "+tasks.length+" items";
      }

      function startEdit(row,task){
        const textDiv=row.querySelector('.text');
        const input=document.createElement('input');input.type='text';input.className='input';input.value=task.text;
        row.replaceChild(input,textDiv);input.focus();input.select();
        function commit(){const v=input.value.trim();if(v)editTask(task.id,v);else render();}
        input.addEventListener('blur',commit,{once:true});
        input.addEventListener('keydown',e=>{if(e.key==='Enter')input.blur();if(e.key==='Escape')render();});
      }

      addForm.addEventListener('submit',e=>{e.preventDefault();addTask(taskInput.value);taskInput.value='';taskInput.focus();});
      clearCompletedBtn.addEventListener('click',()=>{if(confirm('Remove completed?'))clearCompleted();});
      clearAllBtn.addEventListener('click',clearAll);
      filterChips.forEach(chip=>chip.addEventListener('click',()=>{filterChips.forEach(c=>c.classList.remove('active'));chip.classList.add('active');filter=chip.dataset.filter;render();}));

      load();render();
      if(tasks.length===0){tasks=[{id:uid(),text:'Bananas',done:false},{id:uid(),text:'Milk (2L)',done:false},{id:uid(),text:'Eggs (12)',done:true}];save();render();}
      window.addEventListener('storage',e=>{if(e.key===STORAGE_KEY){load();render();}});
    })();
  </script>
</body>
</html>
